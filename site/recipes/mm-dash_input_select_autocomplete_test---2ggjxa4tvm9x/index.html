<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mdash Input Select Autocomplete Test - The HTML, CSS, and JavaScript Cookbook Of Alan</title>
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Mdash Input Select Autocomplete Test" />
    <meta property="og:description" content="" />
    <meta
      property="og:image"
      content="https://res.cloudinary.com/awsimages/image/upload/w_1200,h_630/c_fit,co_rgb:222222,l_text:Helvetica_72_bold:Mdash%20Input%20Select%20Autocomplete%20Test,w_1080,h_480/fl_layer_apply,g_north_west,x_70,y_70/og-images/html-css-js--og-2022-10-24-blank.png"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site:id" content="@TheIdOfAlan" />
    <meta name="twitter:creator" content="@TheIdOfAlan" />
    <link
      rel="icon"
      type="image/png"
      sizes="228x228"
      href="/favicons/228x228.png"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="180x180"
      href="/favicons/180x180.png"
    />
    <link rel="stylesheet" href="/styles/global.css" />
    <link rel="stylesheet" href="/styles/prism.css" />
    <!-- this causes weird colors. tested with it on
  but the functilaity still didn't work. Turning
  it off to make it easier to read the details
<link href="m-1.4.0-dist-min.css" rel="stylesheet" />
-->
<script src="m-1.4.0-dist-min.js"></script>

    <style>
      
    </style>
    <script>
      const kickoff = () => {
    console.log('kickoff')

    const fonts = [
        { key: 'roboto', value: 'Roboto' },
        { key: 'opensans', value: 'OpenSans' },
        { key: 'montserrat', value: 'Montserrat' },
        { key: 'lato', value: 'Lato' },
        { key: 'poppins', value: 'Poppins' },
        { key: 'sourcesanspro', value: 'Source Sans Pro' },
        { key: 'robotocondensed', value: 'Roboto Condensed' },
        { key: 'oswald', value: 'Oswald' },
        { key: 'robotomono', value: 'Roboto Mono' },
        { key: 'raleway', value: 'Raleway' },
        { key: 'inter', value: 'Inter' },
        { key: 'notosans', value: 'Noto Sans' },
        { key: 'ubuntu', value: 'Ubuntu' },
        { key: 'mukta', value: 'Mukta' },
        { key: 'robotoslab', value: 'Roboto Slab' },
        { key: 'nunito', value: 'Nunito' },
        { key: 'playfairdisplay', value: 'Playfair Display' },
        { key: 'ptsans', value: 'PT Sans' },
        { key: 'nunitosans', value: 'Nunito Sans' },
        { key: 'merriweather', value: 'Merriweather' },
        { key: 'rubik', value: 'Rubik' },
        { key: 'notosanskr', value: 'Noto Sans KR' },
        { key: 'worksans', value: 'Work Sans' },
        { key: 'lora', value: 'Lora' },
        { key: 'firasans', value: 'Fira Sans' },
    ]

    MdashAutocomplete.prototype.sources.font = async (query, max) => {
        // 1. Use `query` to fetch, filter, map, find, or whatever your use case is for getting matching results.
        // Note: `max` is the most results that will be shown, which can be helpful to know when dealing with large data sets.

        const matches = []

        fonts.forEach((font) => {
            // console.log(font)
            if (font.value.toLowerCase().includes(query.toLowerCase())) {
                matches.push(font.value)
            }
        })

        console.log(new Date().getTime())

        // const matches = ['apple', 'banana', 'peach'].filter((fruit) => {
        //     fruit.includes(query)
        // })

        // 2. Result must be an object with the original `query` param and a `matches` Array.
        // Note: `matches` elements can be strings or objects with `id` and `value` properties. See Events API above for more details.
        const result = {
            query,
            matches,
        }

        // 3. Return a resolved Promise with the result (async functions do this automatically).
        return result
    }
}

document.addEventListener('DOMContentLoaded', kickoff)

    </script>
  </head>
  <body class="line-numbers">
    <header>
      <a href="/">Cookbook Home</a> ~
      <a href="https://www.alanwsmith.com/">alanwsmith.com</a> ~
      <a href="https://links.alanwsmith.com">links</a> ~
      <a href="https://podcast.alanwsmith.com/">podcast</a> ~
      <a href="https://https://twitter.com/TheIdOfAlan">twitter</a>
    </header>
    <main>
      <h1>Mdash Input Select Autocomplete Test</h1>
      <h2>TL;DR</h2>
      <p>
  This was an initail look at using the
  <a href="https://m-docs.org/">m-</a> (Mdash)
  <a href="https://m-docs.org/autocomplete">autocomplete</a> component. I was
  hoping to use it for
  <a href="https://fonts-and-colors.alanwsmith.com/">my font and color picker</a
  >. It has the same drawbacks as the other things I've seen. More details are
  down at the bottom in the notes
</p>
<fieldset>
  <label>Search</label>
  <m-autocomplete source="font" placeholder="Look up a font"></m-autocomplete>
</fieldset>
 
            <h2>&lt;head&gt;</h2>
            <pre><code class="language-html">&lt;!-- this causes weird colors. tested with it on
  but the functilaity still didn&#x27;t work. Turning
  it off to make it easier to read the details
&lt;link href=&quot;m-1.4.0-dist-min.css&quot; rel=&quot;stylesheet&quot; /&gt;
--&gt;
&lt;script src=&quot;m-1.4.0-dist-min.js&quot;&gt;&lt;/script&gt;
</code></pre>
             
            <h2>HTML</h2>
            <pre><code class="language-html">&lt;p&gt;
  This was an initail look at using the
  &lt;a href=&quot;https://m-docs.org/&quot;&gt;m-&lt;/a&gt; (Mdash)
  &lt;a href=&quot;https://m-docs.org/autocomplete&quot;&gt;autocomplete&lt;/a&gt; component. I was
  hoping to use it for
  &lt;a href=&quot;https://fonts-and-colors.alanwsmith.com/&quot;&gt;my font and color picker&lt;/a
  &gt;. It has the same drawbacks as the other things I&#x27;ve seen. More details are
  down at the bottom in the notes
&lt;/p&gt;
&lt;fieldset&gt;
  &lt;label&gt;Search&lt;/label&gt;
  &lt;m-autocomplete source=&quot;font&quot; placeholder=&quot;Look up a font&quot;&gt;&lt;/m-autocomplete&gt;
&lt;/fieldset&gt;
</code></pre>
              
            <h2>JavaScript</h2>
            <pre><code class="language-js">const kickoff = () =&gt; {
    console.log(&#x27;kickoff&#x27;)

    const fonts = [
        { key: &#x27;roboto&#x27;, value: &#x27;Roboto&#x27; },
        { key: &#x27;opensans&#x27;, value: &#x27;OpenSans&#x27; },
        { key: &#x27;montserrat&#x27;, value: &#x27;Montserrat&#x27; },
        { key: &#x27;lato&#x27;, value: &#x27;Lato&#x27; },
        { key: &#x27;poppins&#x27;, value: &#x27;Poppins&#x27; },
        { key: &#x27;sourcesanspro&#x27;, value: &#x27;Source Sans Pro&#x27; },
        { key: &#x27;robotocondensed&#x27;, value: &#x27;Roboto Condensed&#x27; },
        { key: &#x27;oswald&#x27;, value: &#x27;Oswald&#x27; },
        { key: &#x27;robotomono&#x27;, value: &#x27;Roboto Mono&#x27; },
        { key: &#x27;raleway&#x27;, value: &#x27;Raleway&#x27; },
        { key: &#x27;inter&#x27;, value: &#x27;Inter&#x27; },
        { key: &#x27;notosans&#x27;, value: &#x27;Noto Sans&#x27; },
        { key: &#x27;ubuntu&#x27;, value: &#x27;Ubuntu&#x27; },
        { key: &#x27;mukta&#x27;, value: &#x27;Mukta&#x27; },
        { key: &#x27;robotoslab&#x27;, value: &#x27;Roboto Slab&#x27; },
        { key: &#x27;nunito&#x27;, value: &#x27;Nunito&#x27; },
        { key: &#x27;playfairdisplay&#x27;, value: &#x27;Playfair Display&#x27; },
        { key: &#x27;ptsans&#x27;, value: &#x27;PT Sans&#x27; },
        { key: &#x27;nunitosans&#x27;, value: &#x27;Nunito Sans&#x27; },
        { key: &#x27;merriweather&#x27;, value: &#x27;Merriweather&#x27; },
        { key: &#x27;rubik&#x27;, value: &#x27;Rubik&#x27; },
        { key: &#x27;notosanskr&#x27;, value: &#x27;Noto Sans KR&#x27; },
        { key: &#x27;worksans&#x27;, value: &#x27;Work Sans&#x27; },
        { key: &#x27;lora&#x27;, value: &#x27;Lora&#x27; },
        { key: &#x27;firasans&#x27;, value: &#x27;Fira Sans&#x27; },
    ]

    MdashAutocomplete.prototype.sources.font = async (query, max) =&gt; {
        // 1. Use `query` to fetch, filter, map, find, or whatever your use case is for getting matching results.
        // Note: `max` is the most results that will be shown, which can be helpful to know when dealing with large data sets.

        const matches = []

        fonts.forEach((font) =&gt; {
            // console.log(font)
            if (font.value.toLowerCase().includes(query.toLowerCase())) {
                matches.push(font.value)
            }
        })

        console.log(new Date().getTime())

        // const matches = [&#x27;apple&#x27;, &#x27;banana&#x27;, &#x27;peach&#x27;].filter((fruit) =&gt; {
        //     fruit.includes(query)
        // })

        // 2. Result must be an object with the original `query` param and a `matches` Array.
        // Note: `matches` elements can be strings or objects with `id` and `value` properties. See Events API above for more details.
        const result = {
            query,
            matches,
        }

        // 3. Return a resolved Promise with the result (async functions do this automatically).
        return result
    }
}

document.addEventListener(&#x27;DOMContentLoaded&#x27;, kickoff)
</code></pre>
            
       
                <h2>Notes</h2>
                <ul>
                    <li>The docs had `defer` for the call to the .js file. When I did that I got an error updated the Autocomplete prototype</li> <li>I don't see a way to turn off spell check?</li> <li>Initial view: I'm not seeing a way to trigger events on just hitting enter. All I see is based of clicking an item</li> <li>It looks like you might be able to catch an 'enter' key and work off of that.</li> <li>Tabbig and using arrows to move down don't work for me in Safari or Chrome on the offical site. The means it's a non-starter for me</li>
                </ul>
              
                <h2>References</h2>
                <ul>
                    <li><a href="https://m-docs.org/autocomplete">Mdash Autocomplete</a></li>
                </ul>
                
    </main>
    <footer>
      made by <a href="https://twitter.com/TheIdOfAlan">alan w. smith</a>
      <br />
      who has a <a href="https://www.alanwsmith.com">website</a> and a
      <a href="https://podcast.alanwsmith.com/">podcast</a> <br />
      among other <a href="https://links.alanwsmith.com">things</a>
    </footer>
    <script src="/styles/prism.js"></script>
  </body>
</html>